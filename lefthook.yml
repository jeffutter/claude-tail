$schema: https://json.schemastore.org/lefthook.json

pre-commit:
  parallel: true
  jobs:
    - name: Format 
      tags:
        - fast
        - fix 
      glob: "**/*.rs"
      run: cargo fmt --all -- {staged_files} || true
      stage_fixed: true
    - name: Clippy 
      tags:
        - fast
        - fix 
      glob: "**/*.rs"
      run: cargo clippy --allow-dirty --fix --all-targets --workspace -- -D warnings
      stage_fixed: true
    - name: Test 
      glob: "**/*.rs"
      run: cargo test 
